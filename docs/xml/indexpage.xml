<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="indexpage" kind="page">
    <compoundname>index</compoundname>
    <title>ccfd</title>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para><image type="html" name="ccfd.png"></image>
 <image type="latex" name="ccfd.png"></image>
 <image type="rtf" name="ccfd.png"></image>
 <image type="docbook" name="ccfd.png"></image>
</para>
<para>This code is intended to become a drop-in replacement for <computeroutput>cfdfv</computeroutput>, a CFD code written in Fortran by the <ulink url="https://www.iag.uni-stuttgart.de/en/">Institute of Aerodynamics and Gas Dynamics</ulink> at the University of Stuttgart for a CFD programming course. This code itself is not available online, as far as I know, but it features a similar code structure to <ulink url="https://www.flexi-project.org/">FLEXI</ulink>.</para>
<para>The program uses <ulink url="https://cgns.github.io/">CGNS</ulink>, for storing the calculation results.</para>
<para>The logo is heavily inspired by the software over at <ulink url="https://suckless.org/">suckless.org</ulink>.</para>
<para><image type="html" name="comparison.png"></image>
 <image type="latex" name="comparison.png"></image>
 <image type="rtf" name="comparison.png"></image>
 <image type="docbook" name="comparison.png"></image>
</para>
<sect1 id="index_1autotoc_md0">
<title>Dependencies</title>
<para><itemizedlist>
<listitem><para><computeroutput>git</computeroutput></para>
</listitem><listitem><para><computeroutput>gcc</computeroutput></para>
</listitem><listitem><para><computeroutput>make</computeroutput></para>
</listitem><listitem><para><computeroutput>cmake</computeroutput></para>
</listitem><listitem><para><computeroutput>gnuplot</computeroutput> (optional, for displaying calculation residuals, available <ulink url="http://www.gnuplot.info/">here</ulink>)</para>
</listitem><listitem><para><computeroutput>gmsh</computeroutput> (optional, for mesh generation, available <ulink url="http://gmsh.info/">here</ulink>)</para>
</listitem><listitem><para><computeroutput>paraview</computeroutput> (optional, for post-processing the results, available <ulink url="https://www.paraview.org/">here</ulink>)</para>
</listitem></itemizedlist>
</para>
</sect1>
<sect1 id="index_1autotoc_md1">
<title>Installation</title>
<para>The installation process is easiest on Linux, but possible on MacOS and Windows.</para>
<sect2 id="index_1autotoc_md2">
<title>Linux</title>
<para>First make sure that all necessary dependencies are all installed. These can usually be obtained through your distributions package manager, on Arch based systems the following command should suffice <programlisting><codeline><highlight class="normal">#<sp/>pacman<sp/>-S<sp/>git<sp/>base-devel<sp/>cmake</highlight></codeline>
</programlisting></para>
<para>For an Ubuntu based system the following command should be enough <programlisting><codeline><highlight class="normal">#<sp/>apt-get<sp/>install<sp/>git<sp/>build-essential<sp/>cmake<sp/>libomp-dev</highlight></codeline>
</programlisting></para>
<para>Next, navigate to the directory where you want to keep <computeroutput>ccfd</computeroutput>, clone the git repository and compile the code <programlisting><codeline><highlight class="normal">$<sp/>cd<sp/>path/to/directory</highlight></codeline>
<codeline><highlight class="normal">$<sp/>git<sp/>clone<sp/>https://github.com/hhh95/ccfd.git</highlight></codeline>
<codeline><highlight class="normal">$<sp/>cd<sp/>ccfd</highlight></codeline>
<codeline><highlight class="normal">$<sp/>make</highlight></codeline>
</programlisting></para>
<para>There should now be two new folders, <computeroutput>obj</computeroutput> and <computeroutput>bin</computeroutput>, the last one containing the <computeroutput>ccfd</computeroutput> executable.</para>
<para>Continue with <ulink url="#usage">Usage</ulink>.</para>
</sect2>
<sect2 id="index_1autotoc_md3">
<title>MacOS</title>
<para>I only had access to MacOS High Sierra, so some things might have changed, but the general procedure should still be the same on any MacOS version. First, install a package manager that can install all the necessary software for you. I suggest <ulink url="https://brew.sh/">Homebrew</ulink>. Head on over to their website and follow the installation instructions. Once you&apos;re done, install the necessary software to compile <computeroutput>ccfd</computeroutput> <programlisting><codeline><highlight class="normal">$<sp/>brew<sp/>update</highlight></codeline>
<codeline><highlight class="normal">$<sp/>brew<sp/>upgrade</highlight></codeline>
<codeline><highlight class="normal">$<sp/>brew<sp/>install<sp/>git<sp/>gcc<sp/>make<sp/>cmake<sp/>libomp</highlight></codeline>
</programlisting></para>
<para>Due to the fact, that on MacOS <computeroutput>gcc</computeroutput> is linked to <computeroutput>clang</computeroutput> per default, which does not work well with OpenMP, you will have to make a minor edit to the <computeroutput>Makefile</computeroutput>. Open the file with your favorite editor and find the line that defines the C compiler to be used <programlisting><codeline><highlight class="normal">CC<sp/><sp/><sp/><sp/><sp/>=<sp/>gcc</highlight></codeline>
</programlisting></para>
<para>Replace <computeroutput>gcc</computeroutput> with the version that you have installed, most likely it is <computeroutput>gcc-9</computeroutput>. To find out which version you have, do the following <programlisting><codeline><highlight class="normal">$<sp/>ls<sp/>/usr/local/bin/gcc*</highlight></codeline>
</programlisting></para>
<para>Next, navigate to the directory where you want to keep <computeroutput>ccfd</computeroutput>, clone the git repository and compile the code <programlisting><codeline><highlight class="normal">$<sp/>cd<sp/>path/to/directory</highlight></codeline>
<codeline><highlight class="normal">$<sp/>git<sp/>clone<sp/>https://github.com/hhh95/ccfd.git</highlight></codeline>
<codeline><highlight class="normal">$<sp/>cd<sp/>ccfd</highlight></codeline>
<codeline><highlight class="normal">$<sp/>make</highlight></codeline>
</programlisting></para>
<para>There should now be two new folders, <computeroutput>obj</computeroutput> and <computeroutput>bin</computeroutput>, the last one containing the <computeroutput>ccfd</computeroutput> executable.</para>
<para>Continue with <ulink url="#usage">Usage</ulink>. When installing ParaView, do not choose the Linux version, but the MacOS version.</para>
<para>When using <computeroutput>ccfd</computeroutput> it is very handy to have the ability to open a terminal in a folder from Finder. This is possible, but has to be activated first. Go to <emphasis>System-settings</emphasis>-&gt;*Keyboard*-&gt;*Services* and then check the box in front of the option <emphasis>New Terminal at Folder</emphasis>. Now, you can right click a folder in Finder and open a terminal in that folder.</para>
</sect2>
<sect2 id="index_1autotoc_md4">
<title>Windows</title>
<para>I am still working on installing it on Windows directly, but have not yet managed to do so. For now it only works with a <ulink url="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Linux Bash shell</ulink>. Get the latest Ubuntu shell and complete the installation process. Next, start the Ubuntu shell and install the necessary utilities (if you have never used Linux before, <computeroutput>$</computeroutput> in front of a command means the command can be executed as a normal user and <computeroutput>#</computeroutput> in front of a command means, you need administrative rights; these can be obtained by typing <computeroutput>sudo</computeroutput> in front of the command and entering the password) <programlisting><codeline><highlight class="normal">#<sp/>apt<sp/>update</highlight></codeline>
<codeline><highlight class="normal">#<sp/>apt<sp/>upgrade</highlight></codeline>
<codeline><highlight class="normal">#<sp/>apt<sp/>install<sp/>git<sp/>build-essential<sp/>cmake<sp/>libomp-dev</highlight></codeline>
</programlisting></para>
<para>Now change to your desired working directory <programlisting><codeline><highlight class="normal">$<sp/>git<sp/>clone<sp/>https://github.com/hhh95/ccfd.git</highlight></codeline>
<codeline><highlight class="normal">$<sp/>cd<sp/>ccfd</highlight></codeline>
<codeline><highlight class="normal">$<sp/>make</highlight></codeline>
</programlisting></para>
<para>There should now be two new folders, <computeroutput>obj</computeroutput> and <computeroutput>bin</computeroutput>, the last one containing the <computeroutput>ccfd</computeroutput> executable.</para>
<para>After everything is set up, continue with <ulink url="#usage">Usage</ulink>. However, when installing ParaView, do not install it in the Ubuntu shell, but rather install it normally for <ulink url="https://www.paraview.org/download/">Windows</ulink>. When you want to access the files created by <computeroutput>ccfd</computeroutput> from Windows, just type the following into the Ubuntu shell <programlisting><codeline><highlight class="normal">$<sp/>explorer.exe<sp/>.</highlight></codeline>
</programlisting></para>
<para>This will open the directory in the Windows explorer and you can easily access the file with ParaView.</para>
<para>If, after trying to open ParaView, you get an error that a &apos;VCOMP140.DLL&apos; library is missing, follow the explainatins of this <ulink url="https://answers.microsoft.com/en-us/windows/forum/windows_10-performance/missing-vcomp140dll/afca0b6b-3ced-4e82-8ce8-8734a440d516">Forum Post</ulink>.</para>
</sect2>
</sect1>
<sect1 id="index_1autotoc_md5">
<title>Usage</title>
<para>As a first step you should add the <computeroutput>ccfd</computeroutput> executable to your path. You can do so by running <programlisting><codeline><highlight class="normal">$<sp/>source<sp/>ccfdrc</highlight></codeline>
</programlisting></para>
<para>Next, navigate to the <computeroutput>calc</computeroutput> folder. Here you will find example case files, contained in folder. First, try the Riemann problems. Navigate to the <computeroutput>riemann</computeroutput> folder with <programlisting><codeline><highlight class="normal">$<sp/>cd<sp/>riemann</highlight></codeline>
</programlisting></para>
<para>Here you will find the SOD test case, as well as different versions of the case. Start a calculation with <programlisting><codeline><highlight class="normal">$<sp/>ccfd<sp/>sod.ini</highlight></codeline>
</programlisting></para>
<para>and observe the output. There should be four new files. The initial condition of the case and the calculation results at t = 0.25 s. They should all be <computeroutput>.csv</computeroutput> files. You can examine them with any spreadsheet program you like. Alternatively you can use ParaView, a free post-processing program, that can visualize 1D, 2D, and 3D data. For Arch-based distributions you can install it from the package manager <programlisting><codeline><highlight class="normal">#<sp/>pacman<sp/>-S<sp/>paraview</highlight></codeline>
</programlisting></para>
<para>On Ubuntu, the ParaView program in the repositories does not read CGNS files correctly for some reason. You will need to download ParaView 5.8 from the <ulink url="https://www.paraview.org/download/">ParaView website</ulink>. Next do the following <programlisting><codeline><highlight class="normal">$<sp/>cd<sp/>folder/where/you/downloaded/paraview</highlight></codeline>
<codeline><highlight class="normal">$<sp/>tar<sp/>-xvf<sp/>ParaView-5.8.0-MPI-Linux-Python3.7-64bit.tar.gz</highlight></codeline>
<codeline><highlight class="normal">#<sp/>mv<sp/>ParaView-5.8.0-MPI-Linux-Python3.7-64bit.tar.gz<sp/>/opt</highlight></codeline>
<codeline><highlight class="normal">$<sp/>echo<sp/>&quot;export<sp/>PATH:$PATH:/opt/ParaView-5.8.0-MPI-Linux-Python3.7-64bit/bin&quot;<sp/>&gt;&gt;<sp/>~/.bashrc</highlight></codeline>
</programlisting></para>
<para>Next open ParaView in the directory where you performed the calculations <programlisting><codeline><highlight class="normal">$<sp/>cd<sp/>path/to/ccfd/calc/riemann</highlight></codeline>
<codeline><highlight class="normal">$<sp/>paraview<sp/>&amp;</highlight></codeline>
</programlisting></para>
<para>Now, click on <emphasis>File</emphasis>-&gt;*Open* and select both sets of <computeroutput>.csv</computeroutput> files. Because the results are 1D data, you need to change from <emphasis>Render View</emphasis> to <emphasis>Line Chart View</emphasis>. In the top right of the viewing area, click on the <computeroutput>X</computeroutput> button. Now select <emphasis>Line Chart View</emphasis> from the list. You should now see an empty grid with an x-, and a y-axis. In the <emphasis>Pipeline Browser</emphasis> to the left, click on the eye icons in front of the loaded files. A plot should appear on the axis grid. It will probably show the initial state. In the top bar, click on the play button. Now, the final state should be shown. You will see the analytical, or exact, solution, as well as the numerical solution.</para>
<para>For more information on the theory, maybe have a look at <ulink url="https://en.wikipedia.org/wiki/Sod_shock_tube">Wikipedia</ulink>.</para>
<para>The procedure for running the other cases is the same. However, if the solution data is 2D, then you do not need to switch to <emphasis>Line Chart View</emphasis>. The 2D CGNS output files will usually have more than just the solution file. You can load everything at once by selecting the file that has <computeroutput>_Master</computeroutput> in its name. After loading the file, select all <emphasis>Cell Arrays</emphasis> in the <emphasis>Pipeline Browser</emphasis> and click on <emphasis>Apply</emphasis>. Then you can look at the different fields of the solution, by selecting them in the top bar (where it first says <emphasis>Solid Color</emphasis>).</para>
<para>Some files can only be run with the Navier-Stokes equations. In order the switch between Euler and Navier-Stokes equations, open the <computeroutput>Makefile</computeroutput> and change the <computeroutput>EQNSYS</computeroutput> parameter. </para>
</sect1>
    </detaileddescription>
  </compounddef>
</doxygen>
